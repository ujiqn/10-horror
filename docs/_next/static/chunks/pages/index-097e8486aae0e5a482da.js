(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6086:function(t){"use strict";var e=Object.assign.bind(Object);t.exports=e,t.exports.default=t.exports},7485:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var o=n(5893);function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(7294),s=n(5022),l=n.n(s);function c(){var t=(0,a.useState)(!1),e=t[0],n=t[1],r=(0,a.useState)(null),s=r[0],c=r[1],u=(0,a.useState)([]),d=u[0],f=u[1],_=(0,a.useState)(""),b=_[0],h=_[1],g=(0,a.useState)("\u4e00\u90e8\u5c4b\u3060\u3051\u7570\u69d8\u306b\u5b89\u3044"),y=g[0],p=(g[1],(0,a.useState)([])),v=(p[0],p[1],(0,a.useState)([])),m=(v[0],v[1],(0,a.useRef)(null)),w=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(!e){var t=new Image;t.onload=function(){n(!0),c(t)},t.src="./frame.png",[].slice.call(document.querySelectorAll("[data-ga]")).forEach((function(t){t.addEventListener("click",(function(){!function(t){window.gtag("event",String(t.dataset.ga))}(t)}))}));var o=w.current;setInterval((function(){f(i(o.innerText.substr(0,10)))}),100)}}),[e]),(0,a.useEffect)((function(){if(s){var t=m.current,e=t.getContext("2d"),n=document.createElement("canvas"),o=n.getContext("2d");n.width=1600,n.height=810,o.save(),o.fillStyle="#000",o.textAlign="center",o.textBaseline="middle",o.font="".concat(80,'px "Shippori Mincho"'),o.fillText(i(d).join("  "),n.width/2,n.height/2),o.restore(),t.width=800,t.height=450,e.save(),e.fillStyle="#eee",e.fillRect(0,0,t.width,t.height),e.drawImage(s,0,0,t.width,t.height),e.drawImage(n,0,t.height*((1-.9)/4)-16,t.width,t.height),e.restore(),h(t.toDataURL("image/png"))}}),[d]),(0,o.jsxs)("div",{className:l().index,style:{opacity:e?1:0},children:[(0,o.jsx)("canvas",{ref:m}),(0,o.jsx)("div",{ref:w,className:l().txt,contentEditable:!0,suppressContentEditableWarning:!0,children:y}),/iphone|ipad|ipod|android/.test(navigator.userAgent.toLowerCase())?(0,o.jsx)("a",{id:"btn-download",className:"".concat(l().btn," ").concat(l()["btn-save"]),href:b,target:"_blank",children:"\u753b\u50cf\u3092\u4fdd\u5b58"}):(0,o.jsx)("a",{id:"btn-download",className:"".concat(l().btn," ").concat(l()["btn-save"]),href:b,download:"10-horror",children:"\u753b\u50cf\u3092\u4fdd\u5b58"})]})}},5301:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7485)}])},5022:function(t){t.exports={index:"styles_index__1wWVS",txt:"styles_txt__2PLt0",btn:"styles_btn__3-s30","btn-save":"styles_btn-save__1Muiy",box:"styles_box__2t3-4","book-box":"styles_book-box__KJ5F0","book-link":"styles_book-link__2-Ywj","book-link-img":"styles_book-link-img__3C_gT","book-link-btn":"styles_book-link-btn__IyLWo",logo:"styles_logo__3-eQe"}}},function(t){t.O(0,[774],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);